{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Simplified European Digital Credential",
  "description": "A simplified schema for European Digital Credential that is compatible with the full ELM 3.2 schema",
  "type": "object",
  "required": [
    "id",
    "type",
    "@context",
    "credentialProfiles",
    "displayParameter",
    "issuer",
    "credentialSubject",
    "issued",
    "validFrom",
    "credentialSchema"
  ],
  "properties": {
    "id": {
      "type": "string",
      "format": "uri",
      "description": "Unique identifier for the credential"
    },
    "type": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "VerifiableCredential",
          "VerifiableAttestation",
          "EuropeanDigitalCredential"
        ]
      },
      "minItems": 2,
      "uniqueItems": true,
      "description": "The types of credential"
    },
    "@context": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "JSON-LD context definitions"
    },
    "credentialProfiles": {
      "$ref": "#/definitions/concept"
    },
    "displayParameter": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uri"
        },
        "type": {
          "type": "string",
          "const": "DisplayParameter"
        },
        "individualDisplay": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uri"
            },
            "type": {
              "type": "string",
              "const": "IndividualDisplay"
            },
            "displayDetail": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uri"
                },
                "type": {
                  "type": "string",
                  "const": "DisplayDetail"
                },
                "image": {
                  "$ref": "#/definitions/mediaObject"
                },
                "page": {
                  "type": "integer",
                  "minimum": 1
                }
              },
              "required": [
                "id",
                "type",
                "image",
                "page"
              ]
            },
            "language": {
              "$ref": "#/definitions/concept"
            }
          },
          "required": [
            "id",
            "type",
            "displayDetail",
            "language"
          ]
        },
        "primaryLanguage": {
          "$ref": "#/definitions/concept"
        },
        "description": {
          "$ref": "#/definitions/languageMap"
        },
        "language": {
          "$ref": "#/definitions/concept"
        },
        "title": {
          "$ref": "#/definitions/languageMap"
        }
      },
      "required": [
        "id",
        "type",
        "individualDisplay",
        "primaryLanguage",
        "description",
        "language",
        "title"
      ]
    },
    "credentialSchema": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uri"
        },
        "type": {
          "type": "string",
          "enum": [
            "ShaclValidator2017",
            "JsonSchema"
          ]
        }
      },
      "required": [
        "id",
        "type"
      ]
    },
    "credentialSubject": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uri"
        },
        "type": {
          "const": "Person",
          "type": "string"
        },
        "contactPoint": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uri"
            },
            "type": {
              "type": "string",
              "const": "ContactPoint"
            },
            "emailAddress": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "string"
                },
                "type": {
                  "type": "string",
                  "const": "Mailbox"
                }
              },
              "required": [
                "id",
                "type"
              ]
            }
          },
          "required": [
            "id",
            "type",
            "emailAddress"
          ]
        },
        "hasClaim": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uri"
            },
            "type": {
              "type": "string",
              "const": "LearningAchievement"
            },
            "title": {
              "$ref": "#/definitions/languageMap"
            },
            "description": {
              "$ref": "#/definitions/languageMap"
            },
            "awardedBy": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uri"
                },
                "type": {
                  "type": "string",
                  "const": "AwardingProcess"
                },
                "awardingBody": {
                  "$ref": "#/definitions/organisation"
                }
              },
              "required": [
                "id",
                "type",
                "awardingBody"
              ]
            },
            "provenBy": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uri"
                },
                "type": {
                  "type": "string",
                  "const": "LearningAssessment"
                },
                "title": {
                  "$ref": "#/definitions/languageMap"
                },
                "grade": {
                  "$ref": "#/definitions/note"
                },
                "dateIssued": {
                  "type": "string",
                  "format": "date-time"
                },
                "idVerification": {
                  "$ref": "#/definitions/concept"
                },
                "awardedBy": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uri"
                    },
                    "type": {
                      "type": "string",
                      "const": "AwardingProcess"
                    },
                    "awardingBody": {
                      "$ref": "#/definitions/organisation"
                    }
                  },
                  "required": [
                    "id",
                    "type",
                    "awardingBody"
                  ]
                },
                "specifiedBy": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uri"
                    },
                    "type": {
                      "type": "string",
                      "const": "Qualification"
                    },
                    "title": {
                      "$ref": "#/definitions/languageMap"
                    },
                    "mode": {
                      "$ref": "#/definitions/concept"
                    },
                    "dcType": {
                      "$ref": "#/definitions/concept"
                    }
                  }
                }
              },
              "required": [
                "id",
                "type",
                "title",
                "grade",
                "awardedBy"
              ]
            },
            "specifiedBy": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uri"
                },
                "type": {
                  "type": "string",
                  "const": "Qualification"
                },
                "title": {
                  "$ref": "#/definitions/languageMap"
                },
                "volumeOfLearning": {
                  "type": "string",
                  "format": "duration"
                },
                "creditPoint": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uri"
                    },
                    "type": {
                      "type": "string",
                      "const": "CreditPoint"
                    },
                    "point": {
                      "type": "string"
                    },
                    "framework": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uri"
                        },
                        "type": {
                          "type": "string",
                          "const": "Concept"
                        },
                        "inScheme": {
                          "$ref": "#/definitions/conceptScheme"
                        },
                        "prefLabel": {
                          "$ref": "#/definitions/languageMap",
                          "enum": [
                            "ECTS",
                            "European credit system for vocational education and training"
                          ]
                        },
                        "notation": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "id",
                        "type",
                        "inScheme",
                        "prefLabel"
                      ]
                    }
                  },
                  "required": [
                    "id",
                    "type",
                    "point",
                    "framework"
                  ]
                },
                "eqfLevel": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uri"
                    },
                    "type": {
                      "type": "string",
                      "const": "Concept"
                    },
                    "inScheme": {
                      "$ref": "#/definitions/conceptScheme"
                    },
                    "prefLabel": {
                      "$ref": "#/definitions/languageMap",
                      "enum": [
                        "Level 1",
                        "Level 2",
                        "Level 3",
                        "Level 4",
                        "Level 5",
                        "Level 6",
                        "Level 7",
                        "Level 8"
                      ]
                    },
                    "notation": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "type",
                    "inScheme",
                    "prefLabel"
                  ]
                },
                "nqfLevel": {
                  "$ref": "#/definitions/concept"
                },
                "mode": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uri"
                    },
                    "type": {
                      "type": "string",
                      "const": "Concept"
                    },
                    "inScheme": {
                      "$ref": "#/definitions/conceptScheme"
                    },
                    "prefLabel": {
                      "$ref": "#/definitions/languageMap",
                      "enum": [
                        "Presential",
                        "Workbased",
                        "Project based",
                        "Online",
                        "Blended",
                        "Research-Lab based"
                      ]
                    },
                    "notation": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "type",
                    "inScheme",
                    "prefLabel"
                  ]
                },
                "learningOutcome": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "format": "uri"
                      },
                      "type": {
                        "type": "string",
                        "const": "LearningOutcome"
                      },
                      "title": {
                        "$ref": "#/definitions/languageMap"
                      },
                      "relatedESCOSkill": {
                        "type": "array",
                        "items": {
                          "$ref": "#/definitions/concept"
                        }
                      }
                    },
                    "required": [
                      "id",
                      "type",
                      "title"
                    ]
                  }
                },
                "language": {
                  "$ref": "#/definitions/concept"
                }
              },
              "required": [
                "id",
                "type",
                "title"
              ]
            }
          },
          "required": [
            "id",
            "type",
            "title",
            "awardedBy",
            "provenBy",
            "specifiedBy"
          ]
        },
        "fullName": {
          "$ref": "#/definitions/languageMap"
        },
        "nationalID": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uri",
              "description": "A unique URI identifier for the legal identifier."
            },
            "type": {
              "type": "string",
              "const": "LegalIdentifier",
              "description": "The type of the legal identifier."
            },
            "notation": {
              "type": "string",
              "description": "Notation or code for the legal identifier."
            },
            "spatial": {
              "$ref": "#/definitions/concept",
              "description": "Spatial information related to the legal identifier."
            }
          },
          "required": [
            "id",
            "type",
            "spatial"
          ]
        }
      },
      "required": [
        "id",
        "type",
        "hasClaim",
        "fullName"
      ]
    },
    "issuanceDate": {
      "type": "string",
      "format": "date-time"
    },
    "issued": {
      "type": "string",
      "format": "date-time"
    },
    "validFrom": {
      "type": "string",
      "format": "date-time"
    },
    "issuer": {
      "$ref": "#/definitions/organisation"
    }
  },
  "definitions": {
    "organisation": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uri",
          "description": "A unique URI identifier for the organisation."
        },
        "type": {
          "type": "string",
          "const": "Organisation",
          "description": "The type of the organisation."
        },
        "location": {
          "$ref": "#/definitions/location",
          "description": "Location details of the organisation."
        },
        "logo": {
          "$ref": "#/definitions/mediaObject",
          "description": "Logo of the organisation."
        },
        "legalName": {
          "$ref": "#/definitions/languageMap",
          "description": "Legal name of the organisation in various languages."
        },
        "registration": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uri",
              "description": "A unique URI identifier for the legal identifier."
            },
            "type": {
              "type": "string",
              "const": "LegalIdentifier",
              "description": "The type of the legal identifier."
            },
            "notation": {
              "type": "string",
              "description": "Notation or code for the legal identifier."
            },
            "spatial": {
              "$ref": "#/definitions/concept",
              "description": "Spatial information related to the legal identifier."
            }
          },
          "required": [
            "id",
            "type",
            "spatial"
          ]
        },
        "homepage": {
          "$ref": "#/definitions/webResource"
        }
      },
      "required": [
        "id",
        "type",
        "location",
        "legalName"
      ],
      "additionalProperties": false
    },
    "location": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uri",
          "description": "A unique URI identifier for the location."
        },
        "type": {
          "type": "string",
          "const": "Location",
          "description": "The type of the location."
        },
        "address": {
          "$ref": "#/definitions/address",
          "description": "Address details of the location."
        },
        "description": {
          "$ref": "#/definitions/languageMap",
          "description": "Location description."
        }
      },
      "required": [
        "id",
        "type",
        "address"
      ],
      "additionalProperties": false
    },
    "address": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uri",
          "description": "A unique URI identifier for the address."
        },
        "type": {
          "type": "string",
          "const": "Address",
          "description": "The type of the address."
        },
        "countryCode": {
          "$ref": "#/definitions/concept",
          "description": "Country code for the address."
        },
        "fullAddress": {
          "$ref": "#/definitions/note"
        }
      },
      "required": [
        "id",
        "type",
        "countryCode"
      ],
      "additionalProperties": false
    },
    "concept": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uri"
        },
        "type": {
          "type": "string",
          "const": "Concept"
        },
        "inScheme": {
          "$ref": "#/definitions/conceptScheme"
        },
        "prefLabel": {
          "$ref": "#/definitions/languageMap"
        },
        "notation": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "type",
        "inScheme",
        "prefLabel"
      ]
    },
    "note": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uri",
          "description": "A unique URI identifier for the address."
        },
        "type": {
          "type": "string",
          "const": "Note",
          "description": "The type of the address."
        },
        "noteLiteral": {
          "$ref": "#/definitions/languageMap"
        }
      },
      "required": [
        "id",
        "type",
        "noteLiteral"
      ]
    },
    "conceptScheme": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uri"
        },
        "type": {
          "type": "string",
          "const": "ConceptScheme"
        }
      },
      "required": [
        "id",
        "type"
      ]
    },
    "mediaObject": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uri",
          "description": "A unique URI identifier for the media object."
        },
        "type": {
          "type": "string",
          "const": "MediaObject",
          "description": "The type of the media object."
        },
        "content": {
          "type": "string",
          "description": "The content of the media object (e.g., base64 encoded data)."
        },
        "contentEncoding": {
          "$ref": "#/definitions/concept",
          "description": "Encoding type of the media content."
        },
        "contentType": {
          "$ref": "#/definitions/concept",
          "description": "MIME type of the media content."
        }
      },
      "required": [
        "id",
        "type",
        "content",
        "contentEncoding",
        "contentType"
      ],
      "additionalProperties": false
    },
    "webResource": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uri",
          "description": "A unique URI identifier for the web resource."
        },
        "type": {
          "type": "string",
          "const": "WebResource",
          "description": "The type of the web resource."
        },
        "contentURL": {
          "type": "string",
          "format": "uri",
          "description": "The URL of the web resource."
        }
      },
      "required": [
        "id",
        "type",
        "contentURL"
      ],
      "additionalProperties": false
    },
    "languageMap": {
      "type": "object",
      "patternProperties": {
        "^[a-z]{2}$": {
          "type": "string",
          "description": "A string value for a specific language code."
        }
      },
      "additionalProperties": false,
      "description": "A mapping of language codes to string values."
    }
  }
}
